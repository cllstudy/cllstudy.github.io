---
layout: post
title:  "Android开发常见错误收集"
date:   2018-02-03 10:06:10
description: "Android开发常见错误收集"
tag: Android
---

目录  
* 目录   
 {:toc}

### 调试程序出现安装错误
AS发布项目到手机出现如下错误:
> It is possible that issue is resolved by uninstalling an existing version of the apk if it is present,an then re-installing 
warning :uninstalling will remove the application data!

<img src="http://img.blog.csdn.net/20170417094450366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbHZzaHVjaGFuZ3lpbg==/font/5a6L5L2T/fontsize/10/fill/I0JBQkFCMA==/dissolve/10/gravity/Center" width="510px" />
发布几次死活装不上去，clean project 也没有用，最后找到了问题解决方案，`file-settings`-搜索`instant run`,然后都取消，点击apply就可以正常发布到手机了。估计是android studio 的instant run 的bug,把`instant run` 选项去掉，编译安装就成功了。
![](http://www.wailian.work/images/2018/02/03/1.md.png)

### Error:  is not translated in “en” (English)

开发中出现以下错误的处理     
> Error:" " is not translated in “en” (English) [MissingTranslation]"

<img src="https://raw.githubusercontent.com/junkchen/Documents/master/Image/Error/MissingTranslation.png" width="510px" />   

最终在StackOverFlow上找到了解决方法，大概有这么几种方法，现整理如下:    

* 尝试添加translatable=”[true / false]”    
  
```
 <string name="junkchen" translatable="false">Junk Chen!</string>  
```

* 在resources中添加属性    
 
```
   <resources 
        xmlns:tools="http://schemas.android.com/tools"
        tools:ignore="MissingTranslation" >
```

* 指定语言     
 
``` 
   <resources 
        xmlns:tools="http://schemas.android.com/tools"
        tools:locale="en" >
    </resources>
```
* 使用Android studio可以在build.gradle中的android中添加lintOptions    
   
```
 lintOptions {
        disable 'MissingTranslation'
    }
```
或者  
```
  lintOptions {
        checkReleaseBuilds false
        abortOnError false
    }
```

###  android 高德地图系统签名后定位失败解析  
1. 首先，大家知道高德地图定位，服务端申请key，需要sha1值  
2. sha1值获取方式，不阐述了，百度一大堆。  
3. 在调试时候，使用的是androidstudio 的签名，sha1值ok  
4. 在使用系统签名文件，签名后，定位一直是0.  
5. 原来是sha1值改变，导致的失败。  
#### 获取系统签名sha1值  
{:.no_toc}
1. 系统签名apk文件，解压（重命名为rar文件）  
2. 取出META_INFO中CERT.RSA文件。  
3. cmd下执行keytool -printcert -file CERT.RSA路径。  
4. 将sha1值添加到高德key中，可以为发布sha1,讲studio的sha1更改为调试sha1.  
编译、签名、安装、定位，可以实现定位了。   




                                                     持续更新
